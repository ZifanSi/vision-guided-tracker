<!doctype html>
<html>
  <body>
    <button onclick="fetchPost('/api/mode',{mode:'manual'})">manual</button>
    <button onclick="fetchPost('/api/mode',{mode:'auto'})">auto</button>
    <hr/>
    <button onclick="fetchPost('/api/move',{direction:'up',step:0.2})">↑ up</button>
    <button onclick="fetchPost('/api/move',{direction:'left',step:0.2})">← left</button>
    <button onclick="fetchPost('/api/move',{direction:'right',step:0.2})">right →</button>
    <button onclick="fetchPost('/api/move',{direction:'down',step:0.2})">↓ down</button>
    <pre id="out"></pre>

    <script>
      const API = "http://127.0.0.1:5000";
      async function fetchPost(path, body) {
        const r = await fetch(API+path, {
          method: "POST", headers: {"Content-Type":"application/json"},
          body: JSON.stringify(body)
        });
        const data = await r.json();
        document.getElementById('out').textContent = JSON.stringify(data,null,2);
      }
    </script>
  </body>
</html>
